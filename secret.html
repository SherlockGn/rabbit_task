<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="jquery.cookie.js"></script>
    <script src="md5.js"></script>
    <script src="base64.js"></script>
    <script src="encrypt.js"></script>
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome.min.css" rel="stylesheet">
    <title>secret page</title>

    <style>
    .autoLine {
        word-break: break-all;
    }
    
    </style>
</head>

<body>

<div id="alert" class="alert alert-danger" style="opacity:0; text-align: center;">
    Your cookie is not set yet.
</div>

<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<h2 class="enc">
				sk5tao08RMZJ
			</h2>
			<p class="enc">
7kD3CSAYFOwrJdow0KRoCovZRwYlB9FwQpuyfKI_DIulaGCt0P6fVo2WHkj_J8orvOaoBoJLHkhdf1/10O6tCSA1DkxlCQr7xw6tCSA1DkxlC9rh0K4VCHI8HX/ES=3UTX+4Xe/5d/0vifAZ6aEVLA4=reZJ
			</p>
		</div>
	</div>
</div>
</body>


</html>

<script>

function showAlert() {
    var d = $("#alert");
    d.animate({opacity: 1}, 2000, function() {
        console.log("run");
        setTimeout(function() {d.animate({opacity: 0}, 2000)}, 3000);
    });
}

function test(key) {
    $(".enc").each(function() {
        var target = $(this);
        var plain = target.html().trim();
        console.log(plain);
        console.log(encryptString(plain, key));
    });
}

function decrypt(key) {
    $(".enc").each(function() {
        var target = $(this);
        var plain = target.html().trim();
        target.html(decryptString(plain, key));
    });
}

$(document).ready(function() {
    var key = $.cookie('rabbitpasswd');
//  test();
    if(key === undefined || key === null) {
        showAlert();
        $(".enc").addClass('autoLine');
    }
    else decrypt(key);
});

</script>