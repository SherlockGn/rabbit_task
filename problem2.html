<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome.min.css" rel="stylesheet">
    <title>rabbit's task</title>
</head>
<body>

<div class="container">
    <div class="row clearfix">
        <div class="col-md-2 column">
        </div>
        <div class="col-md-8 column">
            <div class="page-header">
                <h1 id="title">
                    Example page header <small>Subtext for header</small>
                </h1>
            </div>
            <p id="problem">
                Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui.
            </p>
            <hr>
            <p>
                The answer is:
            </p>
            <code id="answer">
                
            </code>
            <br><br><a href="index.html"> back to home </a>
        </div>
        <div class="col-md-2 column">
        </div>
    </div>
</div>

</body>

<script>

var title = "finish the practice of JSON";
var subtitle = "write JSON result";
var problem = 
' \
<title>json练习</title> \n\
学生有id（数字） 性别（boolean，true男false女） 姓名（字符串） 成绩（数字） \n\
现在有三个学生 \n\
0 男 neko 100 \n\
1 女 lisa 99 \n\
2 男 rabbit 88 \n\
汽车有牌子（字符串） 最大速度（数字） 重量（数字） 拥有者（多个学生） \n\
现有三辆车 \n\
宝马 200 3 拥有者：lisa和neko \n\
奔驰 210 4 拥有者：rabbit \n\
别克 220 3.5 拥有者：无 \n\
先将存放三辆车的数组转换成json串 \n\
';
var answer = '[ \n\
	{ "car":"bmw", "maxSpeed":200, "weight":3, "owner":[ \n\
		{ "id":0, "gender":true, "name":"neko", "score":100 }, \n\
		{ "id":1, "gender":false, "name":"lisa", "score":1000 } \n\
	] }, \n\
 \n\
	{ "car":"Tractor", "maxSpeed":30, "weight":4, "owner":[ \n\
		{ "id":2, "gender":true, "name":"rabbit", "score":-1 } \n\
	] }, \n\
 \n\
	{ "car":"Buick", "maxSpeed":190, "weight":3.5, "owner":[] } \n\
]';


problem = handle(problem);
problem = problem.replace(new RegExp("\n", "mg"), "<br>")
answer = answer.replace(new RegExp("\n", "mg"), "<br>")
$("#title").html(title + "&nbsp;&nbsp;<small>" + subtitle + "</small>");
$("#problem").html(problem);
$("#answer").html(answer);

function handle(problem) {
    var ret = "";
    var strs = problem.split("\n");
    console.log(strs.length);
    for(var i = 0; i < strs.length; i++) {
        console.log(strs[i]);
        if(strs[i].indexOf("<title>") !== -1) {
            strs[i] = strs[i].replace(new RegExp("<title>", "mg"), "<h3><b>");
            strs[i] = strs[i].replace(new RegExp("</title>", "mg"), "</b></h3>");
        } else {
            strs[i] = "<h4>" + strs[i] + "</h4>";
        }
        ret += strs[i];
    }
    console.log(ret);
    return ret;
    
}

</script>