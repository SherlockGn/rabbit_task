<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome.min.css" rel="stylesheet">
    <title>rabbit's task</title>
</head>
<body>

<div class="container">
    <div class="row clearfix">
        <div class="col-md-2 column">
        </div>
        <div class="col-md-8 column">
            <div class="page-header">
                <h1 id="title">
                    Example page header <small>Subtext for header</small>
                </h1>
            </div>
            <p id="problem">
                Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui.
            </p>
            <hr>
            <p>
                The answer is:
            </p>
            <code id="answer">
                
            </code>
            <br><br><a href="index.html"> back to home </a>
        </div>
        <div class="col-md-2 column">
        </div>
    </div>
</div>

</body>

<script>

var title = "realize ORM (1)";
var subtitle = "by JAVA language";
var problem = 
' \
完成SQLManager和Table类的部分编写，包括 \n\
class SQLManager { \n\
    void loginDatabase(String url, String userName, String password, String dbName); \n\
    Table createTable(Class<\?> cls, String tableName, String primaryKeyName); \n\
    Table createTable(Class<\?> cls, String tableName, String[] primaryKeyName); \n\
    Table createTable(Class<\?> cls, String tableName, String... primaryKeyName); \n\
} \n\
其中如果未登录则进行创建表操作，则会抛出异常，登录信息不正确或者未引入JDBC的jar包也会抛出异常 \n\
用户调用createTable方法，则会在相应的数据库中创建一张表，列分别对应着cls对象对应的类的各个非static属性，如果该类不满足以下条件，也会抛出Runtime异常： \n\
1. 不为基本数据类型 \n\
2. 其类型只能为byte, short, int, long, float, double, char, boolean, Byte, \nShort, Integer, Long, Float, Double, Character, Boolean, String中的一种； \n\
3. 有空参构造器； \n\
如果类中不含名为primaryKeyName的对象，亦抛出异常。 \n\
最好提供setter、getter方法，没有提供亦可。 \n\
异常对象需要自己定义。 \n\
Java数据类型和数据库数据类型的映射关系定义如下: \n\
byte(Byte) -> int(1) \n\
short(Short) -> int(2) \n\
int(Integer) -> int(4) \n\
long(Long) -> int(8) \n\
float(Float) -> float \n\
double(Double) -> double \n\
char(Character) -> char(1) \n\
boolean(Boolean) -> tinyint \n\
String -> 主键为varchar(255)，非主键为text \n\
注：返回的Table对象用于插删改查，本次练习中返回null即可。 \n\
';
var answer = 'not finished yet';


problem = handle(problem);
problem = problem.replace(new RegExp("\n", "mg"), "<br>")
problem = problem.replace(new RegExp(" ", "mg"), "&nbsp;")
answer = answer.replace(new RegExp("\n", "mg"), "<br>")
answer = answer.replace(new RegExp(" ", "mg"), "&nbsp;")
$("#title").html(title + "&nbsp;&nbsp;<small>" + subtitle + "</small>");
$("#problem").html(problem);
$("#answer").html(answer);

function handle(problem) {
    var ret = "";
    var strs = problem.split("\n");
    console.log(strs.length);
    for(var i = 0; i < strs.length; i++) {
        console.log(strs[i]);
        if(strs[i].indexOf("<title>") !== -1) {
            strs[i] = strs[i].replace(new RegExp("<title>", "mg"), "<h3><b>");
            strs[i] = strs[i].replace(new RegExp("</title>", "mg"), "</b></h3>");
        } else {
            strs[i] = "<h4>" + strs[i] + "</h4>";
        }
        ret += strs[i];
    }
    console.log(ret);
    return ret;
    
}

</script>